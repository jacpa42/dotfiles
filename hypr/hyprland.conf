$color_picker = $HOME/Projects/dotfiles/hypr/scripts/util/color_picker.sh
$screenshot = $HOME/Projects/dotfiles/hypr/scripts/util/screenshot.sh

# menu stuff
$supermenu = $HOME/Projects/dotfiles/hypr/scripts/launch.sh $HOME/Projects/dotfiles/hypr/scripts/pickers/supermenu.sh
$launcher = $HOME/Projects/dotfiles/hypr/scripts/launch.sh $HOME/Projects/dotfiles/hypr/scripts/pickers/app_launcher.sh

# wallpaper stuff
$default_wallpaper = ^clouds.jpg$
$cyclewall = $HOME/Projects/dotfiles/hypr/scripts/util/cyclewall.sh
$wallpaper_directory = $HOME/Projects/muur_papier/

# volume controls
$increase_volume = $HOME/Projects/dotfiles/hypr/scripts/util/volume_increase.sh
$decrease_volume = $HOME/Projects/dotfiles/hypr/scripts/util/volume_decrease.sh
$mute_volume = $HOME/Projects/dotfiles/hypr/scripts/util/volume_mute.sh

# music player stuff
$player = spotify
$player_playpause = $HOME/Projects/dotfiles/hypr/scripts/util/player_toggle_pause.sh
$player_next = $HOME/Projects/dotfiles/hypr/scripts/util/player_next.sh
$player_previous =$HOME/Projects/dotfiles/hypr/scripts/util/player_prev.sh

$mod = SUPER

monitor = eDP-1,2560x1440@165,0x0,1
monitor = DP-1,2560x1440@240,0x0,1

#	Just for HDMI display thingie
monitor = HDMI-A-1,3840x2160@30,-3840x0,1
workspace = 7, monitor:HDMI-A-1
bind = $mod, M, workspace, 7
bind = $mod ALT, M, movetoworkspace, 7

exec-once = $cyclewall -w $wallpaper_directory -s "$default_wallpaper"
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = copyq --start-server
exec-once = /usr/lib/polkit-kde-authentication-agent-1
exec-once = alsactl restore
exec-once = foot --server && sleep 0.5 && footclient tmux new-session -A -s jacob
exec-once = firefox --headless

# Gtk stuff
exec-once = gsettings set org.gnome.desktop.interface gtk-theme Adwaita
exec-once = gsettings set org.gnome.desktop.interface color-scheme prefer-dark
exec-once = gsettings set org.gnome.desktop.interface cursor-theme \'$CURSOR_THEME\'

input {
    follow_mouse = 1

    repeat_rate = 60
    repeat_delay = 200
}

device {
    name = razer-razer-blade-keyboard
    kb_layout = gb
    kb_options = caps:escape
}

ecosystem {
	no_update_news = true
}

general {
    gaps_in = 2
    gaps_out = 0
    border_size = 2
    col.active_border = rgba(e82424ff)
    col.inactive_border = rgba(24253799)

    layout = master
    allow_tearing = false

}

master {
  new_on_top = true
  new_status = master
  orientation = right
  mfact = 0.7
}

decoration {
    rounding = 0
    active_opacity = 1
    inactive_opacity = 1
    fullscreen_opacity = 1
    blur {
        enabled = true
        size = 1
        passes = 1
        xray = true
    }
}

animations {
    enabled = yes, please :)

    bezier = easeOutQuint,0.23,1,0.32,1
    bezier = easeInOutCubic,0.65,0.05,0.36,1
    bezier = linear,0,0,1,1
    bezier = almostLinear,0.5,0.5,0.75,1.0
    bezier = quick,0.15,0,0.1,1

    animation = global, 1, 10, default
    animation = border, 1, 5.39, easeOutQuint
    animation = windows, 1, 4.79, easeOutQuint
    animation = windowsIn, 1, 2.0, easeOutQuint, popin 87%
    animation = windowsOut, 1, 3, linear, popin 87%
    animation = fadeIn, 1, 1.73, almostLinear
    animation = fadeOut, 1, 1.46, almostLinear
    animation = fade, 1, 3.03, quick
    animation = layers, 1, 3.81, easeOutQuint
    animation = layersIn, 1, 4, easeOutQuint, fade
    animation = layersOut, 1, 1.5, linear, fade
    animation = fadeLayersIn, 1, 1.79, almostLinear
    animation = fadeLayersOut, 1, 1.39, almostLinear
    animation = workspaces, 1, 1.5, easeOutQuint
}

misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    force_default_wallpaper = 0
}

device {
    name = epic-mouse-v1
    sensitivity = 0
}

cursor {
  hide_on_key_press = true
}

# No window can grab the entire screen on startup
windowrulev2 = suppressevent maximize, class:.*
# By default tile every window
windowrulev2 = tile, class:.*

# Stuff for mordith :)
windowrulev2 = float, class:Mordith
windowrulev2 = workspace 6, class:Mordith

# Put all mpv things on workspace 7
windowrulev2 = workspace 7, class:(?i)mpv
windowrulev2 = fullscreen, class:(?i)mpv

# Put all qelectrotech things on workspace 7
windowrulev2 = workspace 6, class:(?i).*qelectrotech

# float pinentry gtk
windowrulev2 = float, class:Pinentry-gtk

# Put all spotify things on workspace 2
windowrulev2 = workspace 2, class:Spotify

# Put all asesprite stuff on workspace 6
windowrulev2 = workspace 6, class:Aseprite

# Put all discord stuff on workspace 3
windowrulev2 = workspace 1, class:(?i)discord

# Put all steam things on workspace 5
windowrulev2 = workspace 5, class:steam
windowrulev2 = workspace 5, class:.*steam_app.*
# Float steam windows by default
windowrulev2 = float, class:steam
# Tile the main steam window
windowrulev2 = tile, title:^(Steam)$
# Special rule for doom
windowrulev2 = fullscreen, title:.*DOOM.*
windowrulev2 = fullscreen, title:Hollow Knight Silksong
windowrulev2 = workspace 5, title:Hollow Knight Silksong

# Put all browser windows on workspace 1
windowrulev2 = workspace 3, class:org.qutebrowser.qutebrowser
windowrulev2 = workspace 3, title:.*qutebrowser$
windowrulev2 = workspace 3, class:firefox
windowrulev2 = opacity 0.9, class:firefox

# Put all foot windows on workspace 4
windowrulev2 = workspace 4, class:footclient
windowrulev2 = workspace 4, class:foot

# Put all resolve windows on workspace 6
windowrulev2 = workspace 6, class:resolve
# By default float windows (important for dropdowns)
windowrulev2 = float, class:^(resolve)$
# Tile the main editing window
windowrulev2 = tile, title:.*DaVinci Resolve Studio.*

# Stuff for footpopup
windowrulev2 = float, class:footpopup
windowrulev2 = noanim, class:footpopup
windowrulev2 = center 1, class:footpopup
windowrulev2 = pin, class:footpopup
windowrulev2 = size 60% 60%, class:footpopup
windowrulev2 = stayfocused, class:footpopup
windowrulev2 = bordersize 0, class:footpopup

bind = $mod, T, togglefloating,
bind = $mod, W, killactive,
bind = $mod, RETURN, fullscreen,
bind = $mod, DELETE, exit,
bind = $mod, SPACE, exec, $launcher
bind = $mod, O, exec, $supermenu
bind = $mod, C, exec, $color_picker
bind = $mod, X, exec, $screenshot
bind = $mod, BACKSPACE, exec, footclient

bind = $mod, U, exec, $cyclewall -w $wallpaper_directory
bind = $mod SHIFT, U, exec, $cyclewall -w $wallpaper_directory -r
bind = $mod ALT, U, exec, $cyclewall -w $wallpaper_directory -s $default_wallpaper
bind = $mod CTRL, U, exec, $cyclewall -w $wallpaper_directory -R

bind = $mod, E, cyclenext,
bind = $mod, R, layoutmsg, rollnext
bind = $mod SHIFT, E, cyclenext, prev
bind = $mod SHIFT, R, layoutmsg, rollprev
bind = $mod ALT, E, layoutmsg, mfact +0.05
bind = $mod ALT, R, layoutmsg, mfact -0.05

bind = $mod, S, workspace, 1
bind = $mod, D, workspace, 2
bind = $mod, F, workspace, 3
bind = $mod, J, workspace, 4
bind = $mod, K, workspace, 5
bind = $mod, L, workspace, 6

bind = $mod ALT, S, movetoworkspace, 1
bind = $mod ALT, D, movetoworkspace, 2
bind = $mod ALT, F, movetoworkspace, 3
bind = $mod ALT, J, movetoworkspace, 4
bind = $mod ALT, K, movetoworkspace, 5
bind = $mod ALT, L, movetoworkspace, 6

bind = $mod ALT, 0, exec, $screenshot
bind = $mod ALT, 1, exec, $player_playpause
bind = $mod ALT, 2, exec, $player_next
bind = $mod ALT, 3, exec, $player_previous
bind = $mod ALT, 4, exec, $decrease_volume
bind = $mod ALT, 5, exec, $increase_volume
bind = $mod ALT, 6, exec, $mute_volume

bindel = , XF86AudioRaiseVolume, exec, $increase_volume
bindel = , XF86AudioLowerVolume, exec, $decrease_volume
bindl = , XF86AudioMute, exec, $mute_volume
# Requires playerctl
bindl = , XF86AudioPlay, exec, $player_playpause
bindl = , XF86AudioPrev, exec, $player_previous
bindl = , XF86AudioNext, exec, $player_next

bindm = $mod, mouse:272, movewindow
bindm = $mod, mouse:273, resizewindow

# Fixes workspaces to monitor 1 and 2 :)
workspace = 1, monitor:DP-2
workspace = 2, monitor:DP-2
workspace = 3, monitor:DP-2
workspace = 4, monitor:DP-1
workspace = 5, monitor:DP-1
workspace = 6, monitor:DP-1
